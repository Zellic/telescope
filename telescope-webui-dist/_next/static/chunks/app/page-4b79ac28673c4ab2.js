(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{920:function(e,s,t){Promise.resolve().then(t.bind(t,9143))},9143:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var l=t(7437),n=t(2265),a=t(5430),o=t(7484),c=t(5718),i=t(5748),r=t(7240),d=t(8141),x=t(5378);let u=(0,a.Pi)(()=>{let e=(0,o.gM)(),[s,t]=(0,n.useState)(""),a=null!==e.modals.deleteClient,u=()=>{e.modals.setDeleteClient(null),t("")};return(0,l.jsx)(r.Z,{isOpen:a,onClose:u,header:"Remove account",body:"waiting"===e.socket.responseStatus?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("p",{children:"Deleting..."})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"Really remove this account from Telescope and delete all associated data?"}),(0,l.jsx)("div",{className:"flex items-center ml-6",children:(0,l.jsx)(c.QB,{account:e.modals.deleteClient})})]}),footer:"waiting"===e.socket.responseStatus?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.c,{})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,l.jsx)("div",{children:(0,l.jsx)(x.Y,{isRequired:!0,type:"text",label:"Confirm",placeholder:"Type DELETE to confirm...",labelPlacement:"outside",maxLength:6,value:s,onValueChange:e=>{t(e.toUpperCase())}})}),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)(d.A,{color:"danger",isDisabled:"DELETE"!=s.toUpperCase(),onPress:()=>{t("");let s=e.modals.deleteClient.phone;e.socket.setWaiting(),e.socket.deleteAccount(s)},children:"Delete User"}),(0,l.jsx)(d.A,{color:"default",onPress:u,children:"Cancel"})]})]})})})});var j=t(7326),m=t(4992),h=t(5735),f=t(4531),p=t(3872);let g=(0,a.Pi)(()=>{let e=(0,o.gM)(),s=null!==e.modals.viewPassword,[t,a]=(0,n.useState)(!1),c=()=>{e.modals.setViewPasswordClient(null)};return"failure"===e.modals.viewPasswordState?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(r.Z,{isOpen:s,onClose:c,header:"View 2FA password",body:(0,l.jsxs)(l.Fragment,{children:["waiting"===e.modals.viewPasswordState&&(0,l.jsx)(i.c,{}),"ok"===e.modals.viewPasswordState&&(0,l.jsx)(x.Y,{fullWidth:!0,size:"lg",readOnly:!0,value:e.modals.viewPasswordPass,endContent:(0,l.jsx)("button",{className:"focus:outline-none",type:"button",onClick:()=>a(!t),"aria-label":"toggle password visibility",children:t?(0,l.jsx)(p.tgn,{className:"text-2xl text-default-400 pointer-events-none"}):(0,l.jsx)(p.dSq,{className:"text-2xl text-default-400 pointer-events-none"})}),type:t?"text":"password"})]}),footer:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d.A,{onClick:()=>{c()},children:"Cancel"})})})}),v=(0,a.Pi)(()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.t,{}),(0,l.jsx)(u,{}),(0,l.jsx)(j.Ld,{}),(0,l.jsx)(g,{}),(0,l.jsx)(h.v,{}),(0,l.jsx)(m.E,{})," "]}));var w=t(9687),k=t(8385),C=t(5448),P=t(3376);let y=(0,a.Pi)(()=>{let e=(0,o.gM)();return((0,n.useEffect)(()=>{let s=P.s.getInstance().wsURL+"/socket";return e.socket.connect(s),()=>{e.socket.disconnect()}},[]),"error"===e.socket.socketState||"closed"===e.socket.socketState)?(0,l.jsx)(k.w,{children:(0,l.jsx)(C.G,{children:"Failed to reach server. Please try again later."})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)(v,{}),(0,l.jsxs)("div",{className:"flex ml-auto gap-4 justify-between",children:[(0,l.jsx)(w.A,{size:"sm",onClick:()=>{e.modals.setAddAccount("normal")},children:"Add Account"}),"Development"==e.environment&&(0,l.jsx)(w.A,{size:"sm",onClick:()=>{e.modals.setMessage("Add Test Account","Really add test acccount?",[{key:"yes",label:"Yes",color:"success",actionType:"add_test_account"},{key:"cancel",label:"Cancel",color:"default",actionType:"default"}])},children:"Add Test Account"})]}),(0,l.jsx)(c.ZP,{}),"pending"===e.clientsState&&(0,l.jsx)(i.c,{})]})})});var b=(0,a.Pi)(()=>(0,l.jsx)(y,{}))}},function(e){e.O(0,[492,147,51,240,217,821,331,364,118,971,23,744],function(){return e(e.s=920)}),_N_E=e.O()}]);